{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/app/employment-orders/new/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useMemo, useState } from \"react\";\n\nconst orgOptions = [\n  { id: 1, title: \"ООО \\\"Пример\\\"\" },\n  { id: 2, title: \"АО \\\"Альфа\\\"\" },\n];\n\n// Imitation of employment contracts table body (worker + related fields)\nconst contractBodies = [\n  {\n    id: 101,\n    worker: \"Иванов Иван Иванович\",\n    department: \"Отдел продаж\",\n    position: \"Менеджер\",\n    salary: 120000,\n    workDateFrom: \"2025-01-15\",\n    workDateTo: \"2025-12-31\",\n    probationMonths: 3,\n  },\n  {\n    id: 102,\n    worker: \"Петров Петр Петрович\",\n    department: \"Отдел разработки\",\n    position: \"Инженер\",\n    salary: 150000,\n    workDateFrom: \"2025-02-01\",\n    workDateTo: \"2025-12-31\",\n    probationMonths: 0,\n  },\n];\n\ntype BodyRow = {\n  contractBodyId?: number;\n  worker: string;\n  department: string;\n  position: string;\n  salary: string;\n  workDateFrom: string;\n  workDateTo: string;\n  probationMonths: string;\n};\n\ntype HeaderState = {\n  number: string;\n  preparationDate: string;\n  organizationId?: number;\n};\n\nexport default function EmploymentOrderCreatePage() {\n  const [header, setHeader] = useState<HeaderState>({\n    number: \"\",\n    preparationDate: \"\",\n    organizationId: undefined,\n  });\n\n  const emptyRow = (): BodyRow => ({\n    worker: \"\",\n    department: \"\",\n    position: \"\",\n    salary: \"\",\n    workDateFrom: \"\",\n    workDateTo: \"\",\n    probationMonths: \"\",\n  });\n\n  const [rows, setRows] = useState<BodyRow[]>([emptyRow()]);\n\n  const contractOptions = useMemo(() => contractBodies, []);\n\n  const handleContractPick = (rowIndex: number, id: number) => {\n    const selected = contractBodies.find((c) => c.id === id);\n    if (!selected) return;\n    setRows((prev) =>\n      prev.map((row, idx) =>\n        idx === rowIndex\n          ? {\n              contractBodyId: selected.id,\n              worker: selected.worker,\n              department: selected.department,\n              position: selected.position,\n              salary: String(selected.salary),\n              workDateFrom: selected.workDateFrom,\n              workDateTo: selected.workDateTo,\n              probationMonths: String(selected.probationMonths),\n            }\n          : row,\n      ),\n    );\n  };\n\n  const handleRowChange = (\n    rowIndex: number,\n    field: keyof BodyRow,\n    value: string,\n  ) => {\n    setRows((prev) =>\n      prev.map((row, idx) => (idx === rowIndex ? { ...row, [field]: value } : row)),\n    );\n  };\n\n  const addRow = () => setRows((prev) => [...prev, emptyRow()]);\n\n  const removeRow = (rowIndex: number) => {\n    setRows((prev) => (prev.length === 1 ? prev : prev.filter((_, idx) => idx !== rowIndex)));\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-linear-to-b from-zinc-950 via-zinc-950 to-zinc-900 p-8\">\n      <div className=\"w-full max-w-6xl space-y-8 mx-auto\">\n        <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-zinc-50\">Создание приказа о приёме</h1>\n            <p className=\"text-zinc-400 mt-2 text-sm\">\n              Сначала заполните шапку (header), затем табличную часть (body). При выборе работника данные строки заполняются автоматически.\n            </p>\n          </div>\n          <Link\n            href=\"/employment-orders\"\n            className=\"text-sm text-emerald-400 hover:text-emerald-300\"\n          >\n            ← К списку\n          </Link>\n        </div>\n\n        <section className=\"space-y-4 rounded-xl border border-zinc-800 bg-zinc-900/80 p-6 shadow-xl shadow-black/20\">\n          <h2 className=\"text-lg font-semibold text-zinc-50\">Шапка документа</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 items-end gap-4\">\n            <label className=\"space-y-2 text-sm text-zinc-200\">\n              <span>Номер документа</span>\n              <input\n                className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                value={header.number}\n                onChange={(e) => setHeader({ ...header, number: e.target.value })}\n                placeholder=\"EO-001\"\n              />\n            </label>\n            <label className=\"space-y-2 text-sm text-zinc-200\">\n              <span>Дата подготовки</span>\n              <input\n                type=\"date\"\n                className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                value={header.preparationDate}\n                onChange={(e) =>\n                  setHeader({ ...header, preparationDate: e.target.value })\n                }\n              />\n            </label>\n            <label className=\"space-y-2 text-sm text-zinc-200 md:col-span-2 lg:col-span-3\">\n              <span>Организация</span>\n              <select\n                className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                value={header.organizationId ?? \"\"}\n                onChange={(e) =>\n                  setHeader({ ...header, organizationId: Number(e.target.value) })\n                }\n              >\n                <option value=\"\" disabled>\n                  Выберите организацию\n                </option>\n                {orgOptions.map((org) => (\n                  <option key={org.id} value={org.id}>\n                    {org.title}\n                  </option>\n                ))}\n              </select>\n            </label>\n          </div>\n        </section>\n\n        <section className=\"space-y-4 rounded-xl border border-zinc-800 bg-zinc-900/80 p-6 shadow-xl shadow-black/20\">\n          <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n            <div>\n              <h2 className=\"text-lg font-semibold text-zinc-50\">Табличная часть</h2>\n              <p className=\"text-xs text-zinc-400 mt-1\">Выберите работника — подставим данные, остальное можно поправить вручную.</p>\n            </div>\n            <button\n              type=\"button\"\n              className=\"inline-flex items-center rounded-lg border border-zinc-700 px-4 py-2 text-sm text-zinc-100 hover:border-zinc-500\"\n              onClick={addRow}\n            >\n              Добавить строку\n            </button>\n          </div>\n\n          <div className=\"overflow-hidden rounded-lg border border-zinc-800 bg-zinc-950/40\">\n            <table className=\"min-w-full text-sm text-left\">\n              <thead className=\"bg-zinc-900/70\">\n                <tr>\n                  <th className=\"px-3 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\">Работник</th>\n                  <th className=\"px-3 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\">Подразделение</th>\n                  <th className=\"px-3 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\">Должность</th>\n                  <th className=\"px-3 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\">Оклад</th>\n                  <th className=\"px-3 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\">Работа с</th>\n                  <th className=\"px-3 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\">Работа по</th>\n                  <th className=\"px-3 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\">Испыт. срок</th>\n                  <th className=\"px-3 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\"></th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-zinc-800\">\n                {rows.map((row, idx) => (\n                  <tr\n                    key={idx}\n                    className={`hover:bg-zinc-800/40 transition-colors ${\n                      idx % 2 === 0 ? \"bg-zinc-900\" : \"bg-zinc-900/60\"\n                    }`}\n                  >\n                    <td className=\"px-3 py-3 text-zinc-100 align-top\">\n                      <select\n                        className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                        value={row.contractBodyId ?? \"\"}\n                        onChange={(e) => handleContractPick(idx, Number(e.target.value))}\n                      >\n                        <option value=\"\" disabled>\n                          Выберите работника\n                        </option>\n                        {contractOptions.map((contract) => (\n                          <option key={contract.id} value={contract.id}>\n                            {contract.worker}\n                          </option>\n                        ))}\n                      </select>\n                    </td>\n                    <td className=\"px-3 py-3 text-zinc-100\">\n                      <input\n                        className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                        value={row.department}\n                        onChange={(e) => handleRowChange(idx, \"department\", e.target.value)}\n                      />\n                    </td>\n                    <td className=\"px-3 py-3 text-zinc-100\">\n                      <input\n                        className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                        value={row.position}\n                        onChange={(e) => handleRowChange(idx, \"position\", e.target.value)}\n                      />\n                    </td>\n                    <td className=\"px-3 py-3 text-zinc-100\">\n                      <input\n                        type=\"number\"\n                        className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                        value={row.salary}\n                        onChange={(e) => handleRowChange(idx, \"salary\", e.target.value)}\n                      />\n                    </td>\n                    <td className=\"px-3 py-3 text-zinc-100\">\n                      <input\n                        type=\"date\"\n                        className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                        value={row.workDateFrom}\n                        onChange={(e) => handleRowChange(idx, \"workDateFrom\", e.target.value)}\n                      />\n                    </td>\n                    <td className=\"px-3 py-3 text-zinc-100\">\n                      <input\n                        type=\"date\"\n                        className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                        value={row.workDateTo}\n                        onChange={(e) => handleRowChange(idx, \"workDateTo\", e.target.value)}\n                      />\n                    </td>\n                    <td className=\"px-3 py-3 text-zinc-100\">\n                      <input\n                        type=\"number\"\n                        className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                        value={row.probationMonths}\n                        onChange={(e) => handleRowChange(idx, \"probationMonths\", e.target.value)}\n                      />\n                    </td>\n                    <td className=\"px-3 py-3 text-zinc-100 align-top\">\n                      <button\n                        type=\"button\"\n                        className=\"rounded-md border border-red-500/60 px-3 py-1 text-xs text-red-200 hover:border-red-400 hover:text-red-100\"\n                        onClick={() => removeRow(idx)}\n                      >\n                        Удалить\n                      </button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n\n        </section>\n\n        <div className=\"flex items-center justify-end gap-3\">\n          <Link\n            href=\"/employment-orders\"\n            className=\"rounded-lg border border-zinc-700 px-4 py-2 text-sm text-zinc-200 hover:border-zinc-500\"\n          >\n            Отменить\n          </Link>\n          <button\n            type=\"button\"\n            className=\"rounded-lg border border-emerald-600 bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-emerald-500\"\n          >\n            Сохранить\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,aAAa;IACjB;QAAE,IAAI;QAAG,OAAO;IAAiB;IACjC;QAAE,IAAI;QAAG,OAAO;IAAe;CAChC;AAED,yEAAyE;AACzE,MAAM,iBAAiB;IACrB;QACE,IAAI;QACJ,QAAQ;QACR,YAAY;QACZ,UAAU;QACV,QAAQ;QACR,cAAc;QACd,YAAY;QACZ,iBAAiB;IACnB;IACA;QACE,IAAI;QACJ,QAAQ;QACR,YAAY;QACZ,UAAU;QACV,QAAQ;QACR,cAAc;QACd,YAAY;QACZ,iBAAiB;IACnB;CACD;AAmBc,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAc;QAChD,QAAQ;QACR,iBAAiB;QACjB,gBAAgB;IAClB;IAEA,MAAM,WAAW,IAAe,CAAC;YAC/B,QAAQ;YACR,YAAY;YACZ,UAAU;YACV,QAAQ;YACR,cAAc;YACd,YAAY;YACZ,iBAAiB;QACnB,CAAC;IAED,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAY;QAAC;KAAW;IAExD,MAAM,kBAAkB,IAAA,gNAAO,EAAC,IAAM,gBAAgB,EAAE;IAExD,MAAM,qBAAqB,CAAC,UAAkB;QAC5C,MAAM,WAAW,eAAe,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;QACrD,IAAI,CAAC,UAAU;QACf,QAAQ,CAAC,OACP,KAAK,GAAG,CAAC,CAAC,KAAK,MACb,QAAQ,WACJ;oBACE,gBAAgB,SAAS,EAAE;oBAC3B,QAAQ,SAAS,MAAM;oBACvB,YAAY,SAAS,UAAU;oBAC/B,UAAU,SAAS,QAAQ;oBAC3B,QAAQ,OAAO,SAAS,MAAM;oBAC9B,cAAc,SAAS,YAAY;oBACnC,YAAY,SAAS,UAAU;oBAC/B,iBAAiB,OAAO,SAAS,eAAe;gBAClD,IACA;IAGV;IAEA,MAAM,kBAAkB,CACtB,UACA,OACA;QAEA,QAAQ,CAAC,OACP,KAAK,GAAG,CAAC,CAAC,KAAK,MAAS,QAAQ,WAAW;oBAAE,GAAG,GAAG;oBAAE,CAAC,MAAM,EAAE;gBAAM,IAAI;IAE5E;IAEA,MAAM,SAAS,IAAM,QAAQ,CAAC,OAAS;mBAAI;gBAAM;aAAW;IAE5D,MAAM,YAAY,CAAC;QACjB,QAAQ,CAAC,OAAU,KAAK,MAAM,KAAK,IAAI,OAAO,KAAK,MAAM,CAAC,CAAC,GAAG,MAAQ,QAAQ;IAChF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAkC;;;;;;8CAChD,8OAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;sCAI5C,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;8BAKH,8OAAC;oBAAQ,WAAU;;sCACjB,8OAAC;4BAAG,WAAU;sCAAqC;;;;;;sCACnD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;sDAAK;;;;;;sDACN,8OAAC;4CACC,WAAU;4CACV,OAAO,OAAO,MAAM;4CACpB,UAAU,CAAC,IAAM,UAAU;oDAAE,GAAG,MAAM;oDAAE,QAAQ,EAAE,MAAM,CAAC,KAAK;gDAAC;4CAC/D,aAAY;;;;;;;;;;;;8CAGhB,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;sDAAK;;;;;;sDACN,8OAAC;4CACC,MAAK;4CACL,WAAU;4CACV,OAAO,OAAO,eAAe;4CAC7B,UAAU,CAAC,IACT,UAAU;oDAAE,GAAG,MAAM;oDAAE,iBAAiB,EAAE,MAAM,CAAC,KAAK;gDAAC;;;;;;;;;;;;8CAI7D,8OAAC;oCAAM,WAAU;;sDACf,8OAAC;sDAAK;;;;;;sDACN,8OAAC;4CACC,WAAU;4CACV,OAAO,OAAO,cAAc,IAAI;4CAChC,UAAU,CAAC,IACT,UAAU;oDAAE,GAAG,MAAM;oDAAE,gBAAgB,OAAO,EAAE,MAAM,CAAC,KAAK;gDAAE;;8DAGhE,8OAAC;oDAAO,OAAM;oDAAG,QAAQ;8DAAC;;;;;;gDAGzB,WAAW,GAAG,CAAC,CAAC,oBACf,8OAAC;wDAAoB,OAAO,IAAI,EAAE;kEAC/B,IAAI,KAAK;uDADC,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAS7B,8OAAC;oBAAQ,WAAU;;sCACjB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC;4CAAG,WAAU;sDAAqC;;;;;;sDACnD,8OAAC;4CAAE,WAAU;sDAA6B;;;;;;;;;;;;8CAE5C,8OAAC;oCACC,MAAK;oCACL,WAAU;oCACV,SAAS;8CACV;;;;;;;;;;;;sCAKH,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCAAM,WAAU;;kDACf,8OAAC;wCAAM,WAAU;kDACf,cAAA,8OAAC;;8DACC,8OAAC;oDAAG,WAAU;8DAAwE;;;;;;8DACtF,8OAAC;oDAAG,WAAU;8DAAwE;;;;;;8DACtF,8OAAC;oDAAG,WAAU;8DAAwE;;;;;;8DACtF,8OAAC;oDAAG,WAAU;8DAAwE;;;;;;8DACtF,8OAAC;oDAAG,WAAU;8DAAwE;;;;;;8DACtF,8OAAC;oDAAG,WAAU;8DAAwE;;;;;;8DACtF,8OAAC;oDAAG,WAAU;8DAAwE;;;;;;8DACtF,8OAAC;oDAAG,WAAU;;;;;;;;;;;;;;;;;kDAGlB,8OAAC;wCAAM,WAAU;kDACd,KAAK,GAAG,CAAC,CAAC,KAAK,oBACd,8OAAC;gDAEC,WAAW,CAAC,uCAAuC,EACjD,MAAM,MAAM,IAAI,gBAAgB,kBAChC;;kEAEF,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DACC,WAAU;4DACV,OAAO,IAAI,cAAc,IAAI;4DAC7B,UAAU,CAAC,IAAM,mBAAmB,KAAK,OAAO,EAAE,MAAM,CAAC,KAAK;;8EAE9D,8OAAC;oEAAO,OAAM;oEAAG,QAAQ;8EAAC;;;;;;gEAGzB,gBAAgB,GAAG,CAAC,CAAC,yBACpB,8OAAC;wEAAyB,OAAO,SAAS,EAAE;kFACzC,SAAS,MAAM;uEADL,SAAS,EAAE;;;;;;;;;;;;;;;;kEAM9B,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DACC,WAAU;4DACV,OAAO,IAAI,UAAU;4DACrB,UAAU,CAAC,IAAM,gBAAgB,KAAK,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;kEAGtE,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DACC,WAAU;4DACV,OAAO,IAAI,QAAQ;4DACnB,UAAU,CAAC,IAAM,gBAAgB,KAAK,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;kEAGpE,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DACC,MAAK;4DACL,WAAU;4DACV,OAAO,IAAI,MAAM;4DACjB,UAAU,CAAC,IAAM,gBAAgB,KAAK,UAAU,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;kEAGlE,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DACC,MAAK;4DACL,WAAU;4DACV,OAAO,IAAI,YAAY;4DACvB,UAAU,CAAC,IAAM,gBAAgB,KAAK,gBAAgB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;kEAGxE,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DACC,MAAK;4DACL,WAAU;4DACV,OAAO,IAAI,UAAU;4DACrB,UAAU,CAAC,IAAM,gBAAgB,KAAK,cAAc,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;kEAGtE,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DACC,MAAK;4DACL,WAAU;4DACV,OAAO,IAAI,eAAe;4DAC1B,UAAU,CAAC,IAAM,gBAAgB,KAAK,mBAAmB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;kEAG3E,8OAAC;wDAAG,WAAU;kEACZ,cAAA,8OAAC;4DACC,MAAK;4DACL,WAAU;4DACV,SAAS,IAAM,UAAU;sEAC1B;;;;;;;;;;;;+CAxEE;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAoFjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,uKAAI;4BACH,MAAK;4BACL,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAOX"}}]
}