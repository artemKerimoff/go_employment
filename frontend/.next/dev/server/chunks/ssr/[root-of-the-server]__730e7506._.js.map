{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/app/contracts/ContractsClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/contracts/ContractsClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/contracts/ContractsClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0]}},
    {"offset": {"line": 32, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/app/contracts/ContractsClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/contracts/ContractsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/contracts/ContractsClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiR,GAC9S,+CACA","ignoreList":[0]}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/app/contracts/page.tsx"],"sourcesContent":["import ContractsClient from \"./ContractsClient\";\n\nconst BASE_URL = process.env.NEXT_PUBLIC_BFF_URL || \"http://localhost:8080\";\n\nasync function fetchJson<T>(path: string): Promise<T | null> {\n  try {\n    const res = await fetch(`${BASE_URL}${path}`);\n    if (!res.ok) return null;\n    return (await res.json()) as T;\n  } catch (err) {\n    console.error(\"fetchJson error\", err);\n    return null;\n  }\n}\n\ntype ContractRow = {\n  id: number;\n  number: string;\n  conclusionDate: string;\n  city: string;\n  organization: string;\n  representative: string;\n  representativePosition: string;\n  basis: string;\n  employee: string;\n  employeePassport: string;\n  department: string;\n  position: string;\n  place: string;\n  personnelNumber: string;\n  workDateFrom: string;\n  workDateTo: string;\n  salary: string;\n  conditionsClass: string;\n  probationMonths: string;\n  paidLeaveDays: string;\n  workHoursFrom: string;\n  workHoursTo: string;\n  breakFrom: string;\n  breakTo: string;\n};\n\nexport default async function ContractsPage() {\n  // Server-side fetch of contracts + lookups so initial HTML contains data (no hydration dependency)\n  const [contracts, orgs, individuals] = await Promise.all([\n    fetchJson<any[]>('/api/contracts'),\n    fetchJson<any[]>('/api/organizations'),\n    fetchJson<any[]>('/api/individuals'),\n  ]);\n\n  const orgMap = new Map<number, any>();\n  (orgs ?? []).forEach((o: any) => orgMap.set(o.id, o));\n  const indMap = new Map<number, any>();\n  (individuals ?? []).forEach((it: any) => indMap.set(it.id, it));\n\n  const mapped = (contracts ?? []).map((c: any) => ({\n    id: c.id,\n    number: c.number ?? \"\",\n    conclusionDate: c.conclusion_date ?? \"\",\n    city: c.city ?? \"\",\n    organization: orgMap.get(c.organization_id)?.title ?? (c.organization_name ?? String(c.organization_id ?? \"\")),\n    representative: (() => {\n      const r = indMap.get(c.representative_id);\n      if (r) return [r.last_name, r.first_name, r.patronymic].filter(Boolean).join(' ');\n      return \"\";\n    })(),\n    representativePosition: c.representative_position ?? \"\",\n    basis: c.basis ?? \"\",\n    employee: (() => {\n      const e = indMap.get(c.employee_id);\n      if (e) return [e.last_name, e.first_name, e.patronymic].filter(Boolean).join(' ');\n      return c.employee_name ?? \"\";\n    })(),\n    employeePassport: c.employee_passport_series ? `${c.employee_passport_series} ${c.employee_passport_number}` : (c.passport ? c.passport : \"\"),\n    department: c.department_title ?? c.department_name ?? \"\",\n    position: c.position_title ?? \"\",\n    place: c.place ?? \"\",\n    personnelNumber: c.personnel_number ?? \"\",\n    workDateFrom: c.work_date_from ?? \"\",\n    workDateTo: c.work_date_to ?? \"\",\n    salary: c.salary ? String(c.salary) : \"\",\n    conditionsClass: c.conditions_class ? String(c.conditions_class) : \"\",\n    probationMonths: c.probation_months ? String(c.probation_months) : \"\",\n    paidLeaveDays: c.paid_leave_days ? String(c.paid_leave_days) : \"\",\n    workHoursFrom: c.work_hours_from ?? \"\",\n    workHoursTo: c.work_hours_to ?? \"\",\n    breakFrom: c.break_from ?? \"\",\n    breakTo: c.break_to ?? \"\",\n  } as ContractRow));\n\n  return <ContractsClient initialRows={mapped ?? []} />;\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAEpD,eAAe,UAAa,IAAY;IACtC,IAAI;QACF,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM;QAC5C,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;QACpB,OAAQ,MAAM,IAAI,IAAI;IACxB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO;IACT;AACF;AA6Be,eAAe;IAC5B,mGAAmG;IACnG,MAAM,CAAC,WAAW,MAAM,YAAY,GAAG,MAAM,QAAQ,GAAG,CAAC;QACvD,UAAiB;QACjB,UAAiB;QACjB,UAAiB;KAClB;IAED,MAAM,SAAS,IAAI;IACnB,CAAC,QAAQ,EAAE,EAAE,OAAO,CAAC,CAAC,IAAW,OAAO,GAAG,CAAC,EAAE,EAAE,EAAE;IAClD,MAAM,SAAS,IAAI;IACnB,CAAC,eAAe,EAAE,EAAE,OAAO,CAAC,CAAC,KAAY,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE;IAE3D,MAAM,SAAS,CAAC,aAAa,EAAE,EAAE,GAAG,CAAC,CAAC,IAAW,CAAC;YAChD,IAAI,EAAE,EAAE;YACR,QAAQ,EAAE,MAAM,IAAI;YACpB,gBAAgB,EAAE,eAAe,IAAI;YACrC,MAAM,EAAE,IAAI,IAAI;YAChB,cAAc,OAAO,GAAG,CAAC,EAAE,eAAe,GAAG,SAAU,EAAE,iBAAiB,IAAI,OAAO,EAAE,eAAe,IAAI;YAC1G,gBAAgB,CAAC;gBACf,MAAM,IAAI,OAAO,GAAG,CAAC,EAAE,iBAAiB;gBACxC,IAAI,GAAG,OAAO;oBAAC,EAAE,SAAS;oBAAE,EAAE,UAAU;oBAAE,EAAE,UAAU;iBAAC,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;gBAC7E,OAAO;YACT,CAAC;YACD,wBAAwB,EAAE,uBAAuB,IAAI;YACrD,OAAO,EAAE,KAAK,IAAI;YAClB,UAAU,CAAC;gBACT,MAAM,IAAI,OAAO,GAAG,CAAC,EAAE,WAAW;gBAClC,IAAI,GAAG,OAAO;oBAAC,EAAE,SAAS;oBAAE,EAAE,UAAU;oBAAE,EAAE,UAAU;iBAAC,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;gBAC7E,OAAO,EAAE,aAAa,IAAI;YAC5B,CAAC;YACD,kBAAkB,EAAE,wBAAwB,GAAG,GAAG,EAAE,wBAAwB,CAAC,CAAC,EAAE,EAAE,wBAAwB,EAAE,GAAI,EAAE,QAAQ,GAAG,EAAE,QAAQ,GAAG;YAC1I,YAAY,EAAE,gBAAgB,IAAI,EAAE,eAAe,IAAI;YACvD,UAAU,EAAE,cAAc,IAAI;YAC9B,OAAO,EAAE,KAAK,IAAI;YAClB,iBAAiB,EAAE,gBAAgB,IAAI;YACvC,cAAc,EAAE,cAAc,IAAI;YAClC,YAAY,EAAE,YAAY,IAAI;YAC9B,QAAQ,EAAE,MAAM,GAAG,OAAO,EAAE,MAAM,IAAI;YACtC,iBAAiB,EAAE,gBAAgB,GAAG,OAAO,EAAE,gBAAgB,IAAI;YACnE,iBAAiB,EAAE,gBAAgB,GAAG,OAAO,EAAE,gBAAgB,IAAI;YACnE,eAAe,EAAE,eAAe,GAAG,OAAO,EAAE,eAAe,IAAI;YAC/D,eAAe,EAAE,eAAe,IAAI;YACpC,aAAa,EAAE,aAAa,IAAI;YAChC,WAAW,EAAE,UAAU,IAAI;YAC3B,SAAS,EAAE,QAAQ,IAAI;QACzB,CAAgB;IAEhB,qBAAO,8OAAC,+IAAe;QAAC,aAAa,UAAU,EAAE;;;;;;AACnD"}}]
}