{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/components/list-page.tsx"],"sourcesContent":["import Link from \"next/link\";\nimport React from \"react\";\n\ntype Column = {\n  key: string;\n  label: string;\n  render?: (value: unknown, row: Record<string, unknown>) => React.ReactNode;\n};\n\ntype ActionConfig = {\n  showEdit?: boolean;\n  showDelete?: boolean;\n  showPrint?: boolean;\n  onPrint?: (row: Record<string, unknown>) => void;\n  editHref?: (row: Record<string, unknown>) => string;\n  onDelete?: (row: Record<string, unknown>) => void | Promise<void>;\n};\n\ntype ListPageProps = {\n  title: string;\n  description: string;\n  columns: Column[];\n  rows: Record<string, unknown>[] | null | undefined;\n  createLabel?: string;\n  createHref?: string;\n  actions?: ActionConfig;\n};\n\nexport function ListPage({\n  title,\n  description,\n  columns,\n  rows,\n  createLabel = \"Создать\",\n  createHref,\n  actions,\n}: ListPageProps) {\n  const hasActions = Boolean(actions);\n  const data = rows ?? [];\n\n  return (\n    <div className=\"flex min-h-screen bg-zinc-950 p-8\">\n      <div className=\"w-full\">\n        <header className=\"mb-6 flex items-center justify-between gap-4\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-zinc-50\">{title}</h1>\n            <p className=\"text-zinc-400 mt-2\">{description}</p>\n          </div>\n          <div>\n            {createHref ? (\n              <Link\n                href={createHref}\n                className=\"inline-flex items-center rounded-lg border  bg-zinc-50 px-4 py-2 text-sm font-semibold text-zinc-950 shadow hover:bg-zinc-200\"\n              >\n                {createLabel}\n              </Link>\n            ) : (\n              <button\n                type=\"button\"\n                className=\"inline-flex items-center rounded-lg border bg-zinc-50 px-4 py-2 text-sm font-semibold text-zinc-950 shadow hover:bg-zinc-200\"\n                disabled\n              >\n                {createLabel}\n              </button>\n            )}\n          </div>\n        </header>\n\n        <div className=\"overflow-hidden rounded-xl border border-zinc-800 bg-zinc-900\">\n          <table className=\"min-w-full text-sm text-left\">\n            <thead className=\"bg-zinc-900/70\">\n              <tr>\n                {columns.map((col) => (\n                  <th\n                    key={col.key}\n                    className=\"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\"\n                  >\n                    {col.label}\n                  </th>\n                ))}\n                {hasActions && (\n                  <th className=\"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-zinc-400\">\n                    Действия\n                  </th>\n                )}\n              </tr>\n            </thead>\n            <tbody>\n              {data.map((row, idx) => (\n                <tr\n                  key={idx}\n                  className={idx % 2 === 0 ? \"bg-zinc-900\" : \"bg-zinc-900/60\"}\n                >\n                  {columns.map((col) => {\n                    const value = row[col.key];\n                    return (\n                      <td key={col.key} className=\"px-4 py-3 text-zinc-100\">\n                        {col.render ? col.render(value, row) : String(value ?? \"—\")}\n                      </td>\n                    );\n                  })}\n\n                  {hasActions && (\n                    <td className=\"px-4 py-3 text-zinc-100\">\n                      <div className=\"flex items-center gap-2 text-xs\">\n                        {actions?.showEdit && (\n                          actions?.editHref ? (\n                            <Link\n                              href={actions.editHref(row)}\n                              className=\"rounded-md border border-zinc-700 px-3 py-1 text-zinc-100 hover:border-zinc-500 hover:text-white\"\n                            >\n                              Редактировать\n                            </Link>\n                          ) : (\n                            <button\n                              type=\"button\"\n                              className=\"rounded-md border border-zinc-800 px-3 py-1 text-zinc-400\"\n                              disabled\n                            >\n                              Редактировать\n                            </button>\n                          )\n                        )}\n                        {actions?.showDelete && (\n                          <button\n                            type=\"button\"\n                            className=\"rounded-md border border-red-500/60 px-3 py-1 text-red-200 hover:border-red-400 hover:text-red-100\"\n                            onClick={() => actions?.onDelete?.(row)}\n                          >\n                            Удалить\n                          </button>\n                        )}\n                        {actions?.showPrint && (\n                          <button\n                            type=\"button\"\n                            className=\"rounded-md border border-blue-500/60 px-3 py-1 text-blue-200 hover:border-blue-400 hover:text-blue-100\"\n                            onClick={() => actions?.onPrint?.(row)}\n                          >\n                            Печать\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                  )}\n                </tr>\n              ))}\n              {data.length === 0 && (\n                <tr>\n                  <td\n                    colSpan={columns.length + (hasActions ? 1 : 0)}\n                    className=\"px-4 py-6 text-center text-zinc-500\"\n                  >\n                    Данные отсутствуют\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AA4BO,SAAS,SAAS,EACvB,KAAK,EACL,WAAW,EACX,OAAO,EACP,IAAI,EACJ,cAAc,SAAS,EACvB,UAAU,EACV,OAAO,EACO;IACd,MAAM,aAAa,QAAQ;IAC3B,MAAM,OAAO,QAAQ,EAAE;IAEvB,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAO,WAAU;;sCAChB,8OAAC;;8CACC,8OAAC;oCAAG,WAAU;8CAAmC;;;;;;8CACjD,8OAAC;oCAAE,WAAU;8CAAsB;;;;;;;;;;;;sCAErC,8OAAC;sCACE,2BACC,8OAAC,uKAAI;gCACH,MAAM;gCACN,WAAU;0CAET;;;;;qDAGH,8OAAC;gCACC,MAAK;gCACL,WAAU;gCACV,QAAQ;0CAEP;;;;;;;;;;;;;;;;;8BAMT,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAM,WAAU;;0CACf,8OAAC;gCAAM,WAAU;0CACf,cAAA,8OAAC;;wCACE,QAAQ,GAAG,CAAC,CAAC,oBACZ,8OAAC;gDAEC,WAAU;0DAET,IAAI,KAAK;+CAHL,IAAI,GAAG;;;;;wCAMf,4BACC,8OAAC;4CAAG,WAAU;sDAAwE;;;;;;;;;;;;;;;;;0CAM5F,8OAAC;;oCACE,KAAK,GAAG,CAAC,CAAC,KAAK,oBACd,8OAAC;4CAEC,WAAW,MAAM,MAAM,IAAI,gBAAgB;;gDAE1C,QAAQ,GAAG,CAAC,CAAC;oDACZ,MAAM,QAAQ,GAAG,CAAC,IAAI,GAAG,CAAC;oDAC1B,qBACE,8OAAC;wDAAiB,WAAU;kEACzB,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,OAAO,OAAO,OAAO,SAAS;uDADhD,IAAI,GAAG;;;;;gDAIpB;gDAEC,4BACC,8OAAC;oDAAG,WAAU;8DACZ,cAAA,8OAAC;wDAAI,WAAU;;4DACZ,SAAS,YAAY,CACpB,SAAS,yBACP,8OAAC,uKAAI;gEACH,MAAM,QAAQ,QAAQ,CAAC;gEACvB,WAAU;0EACX;;;;;qFAID,8OAAC;gEACC,MAAK;gEACL,WAAU;gEACV,QAAQ;0EACT;;;;;oEAIL;4DACC,SAAS,4BACR,8OAAC;gEACC,MAAK;gEACL,WAAU;gEACV,SAAS,IAAM,SAAS,WAAW;0EACpC;;;;;;4DAIF,SAAS,2BACR,8OAAC;gEACC,MAAK;gEACL,WAAU;gEACV,SAAS,IAAM,SAAS,UAAU;0EACnC;;;;;;;;;;;;;;;;;;2CA/CJ;;;;;oCAwDR,KAAK,MAAM,KAAK,mBACf,8OAAC;kDACC,cAAA,8OAAC;4CACC,SAAS,QAAQ,MAAM,GAAG,CAAC,aAAa,IAAI,CAAC;4CAC7C,WAAU;sDACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWnB"}},
    {"offset": {"line": 237, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/lib/api.ts"],"sourcesContent":["const BASE_URL = process.env.NEXT_PUBLIC_BFF_URL || \"http://localhost:8080\";\n\nasync function request<T>(path: string, options: RequestInit = {}): Promise<T> {\n  const headers: Record<string, string> = { ...(options.headers || {}) };\n  // Only set Content-Type for requests with a body to avoid unnecessary CORS preflight for GET\n  if (options.body !== undefined && options.body !== null) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n\n  const res = await fetch(`${BASE_URL}${path}`, {\n    headers,\n    ...options,\n  });\n\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`API ${options.method || \"GET\"} ${path} failed: ${res.status} ${text}`);\n  }\n\n  if (res.status === 204) return undefined as T;\n  return (await res.json()) as T;\n}\n\nexport function apiGet<T>(path: string) {\n  return request<T>(path, { method: \"GET\" });\n}\n\nexport function apiPost<T>(path: string, body: unknown) {\n  return request<T>(path, { method: \"POST\", body: JSON.stringify(body) });\n}\n\nexport function apiPut<T>(path: string, body: unknown) {\n  return request<T>(path, { method: \"PUT\", body: JSON.stringify(body) });\n}\n\nexport function apiPatch<T>(path: string, body: unknown) {\n  return request<T>(path, { method: \"PATCH\", body: JSON.stringify(body) });\n}\n\nexport function apiDelete<T>(path: string) {\n  return request<T>(path, { method: \"DELETE\" });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA,MAAM,WAAW,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAEpD,eAAe,QAAW,IAAY,EAAE,UAAuB,CAAC,CAAC;IAC/D,MAAM,UAAkC;QAAE,GAAI,QAAQ,OAAO,IAAI,CAAC,CAAC;IAAE;IACrE,6FAA6F;IAC7F,IAAI,QAAQ,IAAI,KAAK,aAAa,QAAQ,IAAI,KAAK,MAAM;QACvD,OAAO,CAAC,eAAe,GAAG;IAC5B;IAEA,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QAC5C;QACA,GAAG,OAAO;IACZ;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,QAAQ,MAAM,IAAI,MAAM,CAAC,EAAE,KAAK,SAAS,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,MAAM;IACxF;IAEA,IAAI,IAAI,MAAM,KAAK,KAAK,OAAO;IAC/B,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,SAAS,OAAU,IAAY;IACpC,OAAO,QAAW,MAAM;QAAE,QAAQ;IAAM;AAC1C;AAEO,SAAS,QAAW,IAAY,EAAE,IAAa;IACpD,OAAO,QAAW,MAAM;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AACvE;AAEO,SAAS,OAAU,IAAY,EAAE,IAAa;IACnD,OAAO,QAAW,MAAM;QAAE,QAAQ;QAAO,MAAM,KAAK,SAAS,CAAC;IAAM;AACtE;AAEO,SAAS,SAAY,IAAY,EAAE,IAAa;IACrD,OAAO,QAAW,MAAM;QAAE,QAAQ;QAAS,MAAM,KAAK,SAAS,CAAC;IAAM;AACxE;AAEO,SAAS,UAAa,IAAY;IACvC,OAAO,QAAW,MAAM;QAAE,QAAQ;IAAS;AAC7C"}},
    {"offset": {"line": 301, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/app/organizations/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\n\nimport { ListPage } from \"@/components/list-page\";\nimport { apiDelete, apiGet } from \"@/lib/api\";\n\ntype OrgRow = {\n  id: number;\n  title: string;\n  address: string;\n  inn: string;\n  kpp: string | null;\n};\n\n\nexport default function OrganizationsPage() {\n  const [rows, setRows] = useState<OrgRow[]>([]);\n\n  useEffect(() => {\n    apiGet<OrgRow[]>(\"/api/organizations\")\n      .then((data) => setRows(data ?? []))\n      .catch((err) => {\n        console.error(\"Failed to load organizations\", err);\n        setRows([]);\n      });\n  }, []);\n\n  const handleDelete = async (row: OrgRow) => {\n    try {\n      await apiDelete(`/api/organizations/${row.id}`);\n    } catch (err) {\n      console.error(\"Failed to delete organization\", err);\n    }\n    setRows((prev) => prev.filter((item) => item.id !== row.id));\n  };\n\n  return (\n    <ListPage\n      title=\"Организации\"\n      description=\"Основные сведения по организациям\"\n      columns={[\n        { key: \"title\", label: \"Наименование\" },\n        { key: \"address\", label: \"Адрес\" },\n        { key: \"inn\", label: \"ИНН\" },\n        { key: \"kpp\", label: \"КПП\" },\n      ]}\n      rows={rows}\n      createHref=\"/organizations/new\"\n      actions={{\n        showEdit: true,\n        showDelete: true,\n        editHref: (row) => `/organizations/${row.id}/edit`,\n        onDelete: (row) => handleDelete(row as OrgRow),\n      }}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AALA;;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAW,EAAE;IAE7C,IAAA,kNAAS,EAAC;QACR,IAAA,oHAAM,EAAW,sBACd,IAAI,CAAC,CAAC,OAAS,QAAQ,QAAQ,EAAE,GACjC,KAAK,CAAC,CAAC;YACN,QAAQ,KAAK,CAAC,gCAAgC;YAC9C,QAAQ,EAAE;QACZ;IACJ,GAAG,EAAE;IAEL,MAAM,eAAe,OAAO;QAC1B,IAAI;YACF,MAAM,IAAA,uHAAS,EAAC,CAAC,mBAAmB,EAAE,IAAI,EAAE,EAAE;QAChD,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iCAAiC;QACjD;QACA,QAAQ,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,IAAI,EAAE;IAC5D;IAEA,qBACE,8OAAC,uIAAQ;QACP,OAAM;QACN,aAAY;QACZ,SAAS;YACP;gBAAE,KAAK;gBAAS,OAAO;YAAe;YACtC;gBAAE,KAAK;gBAAW,OAAO;YAAQ;YACjC;gBAAE,KAAK;gBAAO,OAAO;YAAM;YAC3B;gBAAE,KAAK;gBAAO,OAAO;YAAM;SAC5B;QACD,MAAM;QACN,YAAW;QACX,SAAS;YACP,UAAU;YACV,YAAY;YACZ,UAAU,CAAC,MAAQ,CAAC,eAAe,EAAE,IAAI,EAAE,CAAC,KAAK,CAAC;YAClD,UAAU,CAAC,MAAQ,aAAa;QAClC;;;;;;AAGN"}}]
}