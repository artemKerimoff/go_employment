{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/lib/api.ts"],"sourcesContent":["const BASE_URL = process.env.NEXT_PUBLIC_BFF_URL || \"http://localhost:8080\";\n\nasync function request<T>(path: string, options: RequestInit = {}): Promise<T> {\n  const headers: Record<string, string> = { ...(options.headers || {}) };\n  // Only set Content-Type for requests with a body to avoid unnecessary CORS preflight for GET\n  if (options.body !== undefined && options.body !== null) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n\n  const res = await fetch(`${BASE_URL}${path}`, {\n    headers,\n    ...options,\n  });\n\n  if (!res.ok) {\n    const text = await res.text();\n    throw new Error(`API ${options.method || \"GET\"} ${path} failed: ${res.status} ${text}`);\n  }\n\n  if (res.status === 204) return undefined as T;\n  return (await res.json()) as T;\n}\n\nexport function apiGet<T>(path: string) {\n  return request<T>(path, { method: \"GET\" });\n}\n\nexport function apiPost<T>(path: string, body: unknown) {\n  return request<T>(path, { method: \"POST\", body: JSON.stringify(body) });\n}\n\nexport function apiPut<T>(path: string, body: unknown) {\n  return request<T>(path, { method: \"PUT\", body: JSON.stringify(body) });\n}\n\nexport function apiPatch<T>(path: string, body: unknown) {\n  return request<T>(path, { method: \"PATCH\", body: JSON.stringify(body) });\n}\n\nexport function apiDelete<T>(path: string) {\n  return request<T>(path, { method: \"DELETE\" });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAiB;AAAjB,MAAM,WAAW,2KAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI;AAEpD,eAAe,QAAW,IAAY,EAAE,UAAuB,CAAC,CAAC;IAC/D,MAAM,UAAkC;QAAE,GAAI,QAAQ,OAAO,IAAI,CAAC,CAAC;IAAE;IACrE,6FAA6F;IAC7F,IAAI,QAAQ,IAAI,KAAK,aAAa,QAAQ,IAAI,KAAK,MAAM;QACvD,OAAO,CAAC,eAAe,GAAG;IAC5B;IAEA,MAAM,MAAM,MAAM,MAAM,GAAG,WAAW,MAAM,EAAE;QAC5C;QACA,GAAG,OAAO;IACZ;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,IAAI,MAAM,CAAC,IAAI,EAAE,QAAQ,MAAM,IAAI,MAAM,CAAC,EAAE,KAAK,SAAS,EAAE,IAAI,MAAM,CAAC,CAAC,EAAE,MAAM;IACxF;IAEA,IAAI,IAAI,MAAM,KAAK,KAAK,OAAO;IAC/B,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,SAAS,OAAU,IAAY;IACpC,OAAO,QAAW,MAAM;QAAE,QAAQ;IAAM;AAC1C;AAEO,SAAS,QAAW,IAAY,EAAE,IAAa;IACpD,OAAO,QAAW,MAAM;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AACvE;AAEO,SAAS,OAAU,IAAY,EAAE,IAAa;IACnD,OAAO,QAAW,MAAM;QAAE,QAAQ;QAAO,MAAM,KAAK,SAAS,CAAC;IAAM;AACtE;AAEO,SAAS,SAAY,IAAY,EAAE,IAAa;IACrD,OAAO,QAAW,MAAM;QAAE,QAAQ;QAAS,MAAM,KAAK,SAAS,CAAC;IAAM;AACxE;AAEO,SAAS,UAAa,IAAY;IACvC,OAAO,QAAW,MAAM;QAAE,QAAQ;IAAS;AAC7C"}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/app/organizations/%5Bid%5D/edit/page.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\n\nimport { apiGet, apiPatch } from \"@/lib/api\";\n\ntype OrgForm = {\n  title: string;\n  address: string;\n  okpo: string;\n  inn: string;\n  kpp: string;\n  accountId: string;\n};\n\n\n\ntype Account = { id: string | number; number: string };\n\nexport default function OrganizationEditPage() {\n  const [form, setForm] = useState<OrgForm>({\n    title: \"\",\n    address: \"\",\n    okpo: \"\",\n    inn: \"\",\n    kpp: \"\",\n    accountId: \"\",\n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const params = useParams<{ id: string }>();\n  const router = useRouter();\n\n  const [accounts, setAccounts] = useState<Account[]>([]);\n\n  useEffect(() => {\n    const baseUrl = process.env.NEXT_PUBLIC_BFF_URL || \"http://localhost:8080\";\n    fetch(`${baseUrl}/api/accounts`)\n      .then((res) => res.json())\n      .then((data) => setAccounts(data ?? []))\n      .catch(() => setAccounts([]));\n  }, [params?.id]);\n\n  useEffect(() => {\n    if (!params?.id) return;\n    apiGet<any>(`/api/organizations/${params.id}`)\n      .then((data) => {\n        setForm({\n          title: data?.title ?? \"\",\n          address: data?.address ?? \"\",\n          okpo: data?.okpo ?? \"\",\n          inn: data?.inn ?? \"\",\n          kpp: data?.kpp ?? \"\",\n          accountId: data?.account_id !== undefined && data?.account_id !== null ? String(data.account_id) : \"\",\n        });\n      })\n      .catch((err) => console.error(\"Failed to load organization\", err))\n      .finally(() => setLoading(false));\n  }, [params?.id]);\n\n  const onChange = (key: keyof OrgForm, value: string) => {\n    setForm((prev) => ({ ...prev, [key]: value }));\n  };\n\n  const handleSave = async () => {\n    if (!params?.id) return;\n    setSaving(true);\n    try {\n      await apiPatch(`/api/organizations/${params.id}`, {\n        title: form.title.trim(),\n        address: form.address.trim(),\n        okpo: form.okpo.trim(),\n        inn: form.inn.trim(),\n        kpp: form.kpp.trim(),\n        accountId: form.accountId || null,\n      });\n      router.push(\"/organizations\");\n    } catch (err) {\n      console.error(\"Failed to update organization\", err);\n      setSaving(false);\n      alert(\"Не удалось сохранить организацию\");\n    }\n  };\n\n  return (\n    <div className=\"flex min-h-screen bg-linear-to-b from-zinc-950 via-zinc-950 to-zinc-900 p-8\">\n      <div className=\"w-full max-w-5xl space-y-8 mx-auto\">\n        <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-zinc-50\">Редактирование организации</h1>\n            <p className=\"text-zinc-400 mt-2 text-sm\">Измените реквизиты: наименование, адрес, ОКПО и ИНН/КПП.</p>\n          </div>\n          <Link\n            href=\"/organizations\"\n            className=\"text-sm text-emerald-400 hover:text-emerald-300\"\n          >\n            ← К списку\n          </Link>\n        </div>\n\n        <section className=\"space-y-4 rounded-xl border border-zinc-800 bg-zinc-900/80 p-6 shadow-xl shadow-black/20\">\n          <h2 className=\"text-lg font-semibold text-zinc-50\">Наименование</h2>\n          <label className=\"space-y-2 text-sm text-zinc-200\">\n            <span>Полное наименование</span>\n            <input\n              className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n              value={form.title}\n              onChange={(e) => onChange(\"title\", e.target.value)}\n              placeholder='ООО \"Пример\"'\n            />\n          </label>\n        </section>\n\n        <section className=\"space-y-4 rounded-xl border border-zinc-800 bg-zinc-900/80 p-6 shadow-xl shadow-black/20\">\n          <h2 className=\"text-lg font-semibold text-zinc-50\">Реквизиты</h2>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            <label className=\"space-y-2 text-sm text-zinc-200\">\n              <span>ИНН</span>\n              <input\n                className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                value={form.inn}\n                onChange={(e) => onChange(\"inn\", e.target.value)}\n                placeholder=\"7701234567\"\n              />\n            </label>\n            <label className=\"space-y-2 text-sm text-zinc-200\">\n              <span>КПП</span>\n              <input\n                className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                value={form.kpp}\n                onChange={(e) => onChange(\"kpp\", e.target.value)}\n                placeholder=\"770101001\"\n              />\n            </label>\n            <label className=\"space-y-2 text-sm text-zinc-200\">\n              <span>ОКПО</span>\n              <input\n                className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n                value={form.okpo}\n                onChange={(e) => onChange(\"okpo\", e.target.value)}\n                placeholder=\"12345678\"\n              />\n            </label>\n          </div>\n          <label className=\"space-y-2 text-sm text-zinc-200\">\n            <span>Адрес</span>\n            <input\n              className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n              value={form.address}\n              onChange={(e) => onChange(\"address\", e.target.value)}\n              placeholder=\"г. Москва, ул. Примерная, д.1\"\n            />\n          </label>\n          <label className=\"space-y-2 text-sm text-zinc-200\">\n            <span>Расчетный счет</span>\n            <select\n              className=\"w-full rounded-lg border border-zinc-700 bg-zinc-950 px-3 py-2 text-sm text-zinc-50\"\n              value={form.accountId}\n              onChange={(e) => onChange(\"accountId\", e.target.value)}\n            >\n              <option value=\"\" disabled>\n                Выберите счет\n              </option>\n              {accounts.map((item) => (\n                <option key={item.id} value={item.id}>{item.number}</option>\n              ))}\n            </select>\n          </label>\n        </section>\n\n        <div className=\"flex items-center justify-end gap-3\">\n          <Link\n            href=\"/organizations\"\n            className=\"rounded-lg border border-zinc-700 px-4 py-2 text-sm text-zinc-200 hover:border-zinc-500\"\n          >\n            Отменить\n          </Link>\n          <button\n            type=\"button\"\n            className=\"rounded-lg border border-emerald-600 bg-emerald-600 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-emerald-500\"\n            onClick={handleSave}\n            disabled={saving || loading}\n          >\n            {saving ? \"Сохранение...\" : \"Сохранить\"}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 486, "column": 0}, "map": {"version":3,"sources":["file:///home/artem/Study/isp/go_employment/frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}